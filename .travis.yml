language: csharp

install:
 - sudo travis_wait 30 apt-get install npm

services:
  - docker

before_script:
 - chmod +x build.sh

script:
 - npm install -g bower
 - npm install -g gulp
 - ./build.sh BuildWithTests
 - docker build -t dzoukr/fsharping .
 - docker login -e="$DOCKER_EMAIL" -u="$DOCKER_USERNAME" -p="$DOCKER_PASSWORD"
 - docker push dzoukr/fsharping

branches:
  - master
